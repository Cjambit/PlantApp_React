(this["webpackJsonpplant-react-app"]=this["webpackJsonpplant-react-app"]||[]).push([[0],{21:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),s=n(31),a=n.n(s),r=n(2),o=(n(21),n(0));var l=function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"Documentation Page"}),Object(o.jsx)("h2",{children:"Site Use Directions:"}),Object(o.jsx)("p",{children:"This site is intented for the use by  reforestation (tree planting) contractors to compile biling information on a block (worksite) basis and submit an invoice for their client to receive and pay"}),Object(o.jsx)("h3",{children:"Home Portal"}),Object(o.jsx)("p",{children:"The home landing page of the web application presents the user with an option to access the Client or Contractor Portals. The Contractor portal is intended for the drafting and submission of invoices. The Client portal is intended for the client to access submitted invoices."}),Object(o.jsx)("h3",{children:"Contractor Home"}),Object(o.jsx)("p",{children:'Under heading "Start a New Invoice, the user is first presented with a form to input a set of information requirements to draft a new Invoice. Upon clicking on Draft invoice, the form input is compiled and passed to the invoice list below.'}),Object(o.jsx)("h3",{children:"Current Invoices"}),Object(o.jsx)("p",{children:'The current invoice secetion presents the user with a list of current invoices. Each invoice is identified by the blockname "worksite".'}),Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:"Tree Rate. Represents to contractual rate per tree for the specific cut block that the client is to pay the contractor upon successful work completion"}),Object(o.jsx)("li",{children:"Total Planted. Represents the total amount of trees planted on a particular site"}),Object(o.jsx)("li",{children:"Amount Due in CAD. Represents the total number of trees planted multiplied by the tree rate (rate input *.10)"}),Object(o.jsx)("li",{children:"Current Bitcoin Rate. This shows the spot price of bitcoin generated by Coinbase's API."}),Object(o.jsx)("li",{children:"Current ETH Rate. This shows the spot price of ether generated by Coinbase's API."}),Object(o.jsx)("li",{children:"Time of price quotes. This shows the time stamp received from coinbase API to verify time of quote."})]}),Object(o.jsx)("h4",{children:"Current Invoice funtcionality defined by button"}),Object(o.jsx)("li",{children:'Submit Invoice. By clicking this, the invoice is marked as submitted. It can will then be sorted and appear when selected "Show submitted Invoices"'}),Object(o.jsx)("li",{children:"Edit Invoice. By clicking this, the user is presented with an option to edit the invoice name or the total planted"}),Object(o.jsx)("li",{children:"Mark as paid and remove. By clicking this, the invoice is deleted from the form"}),Object(o.jsx)("h4",{children:"Sort Bar"}),Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:" Show all invoices. clicking this shows all the invioces to the user"}),Object(o.jsx)("li",{children:"Show active invoices. Clicking this sorts the invoices so that the UI only shows active invoices"}),Object(o.jsx)("li",{children:"Show submitted Invoices. Clicking this sorts the invoices for only those selected for submit. "}),Object(o.jsx)("li",{children:"Clear all invoices. Deletes all the invoices regardless of active or submitted."})]}),Object(o.jsx)("h3",{children:"Sources"}),Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:"Coinbase"}),Object(o.jsx)("li",{children:"Class Assignment Todo app for sorting and filtering methods"}),Object(o.jsx)("li",{children:"Assignment 6 for data fetching methods"})]})]})},j=n(7),d=n(34),b=n(3),u=n(12),h=Object(c.createContext)(),O=function(e){var t=Object(c.useState)([{id:1,species:"pli",reqKey:"DM045",contract:"FSJ",bundle:"20"},{id:2,species:"Sx",reqKey:"DMK023",contract:"Williams Lake",bundle:"15"},{id:3,species:"Fdi",reqKey:"JK045",contract:"Quesnel",bundle:"10"}]),n=Object(b.a)(t,2),i=n[0],s=n[1];return Object(o.jsx)(h.Provider,{value:[i,s],children:e.children})};var m=function(e){var t=Object(c.useState)(""),n=Object(b.a)(t,2),i=n[0],s=n[1],a=Object(c.useContext)(h),r=Object(b.a)(a,2),l=r[0];function d(e){var t=e.target.name,n=e.target.value;s((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(u.a)({},t,n))}))}return r[1],Object(o.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.addInvoice(i)},children:[Object(o.jsx)("h2",{children:Object(o.jsx)("label",{children:"Start a new Invoice"})}),Object(o.jsx)("label",{children:"Block Name"}),"\xa0",Object(o.jsx)("input",{type:"text",id:"block-input",className:"block-input",name:"blockName",autoComplete:"off",value:i.blockName,onChange:d}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:"Total Planted"}),"\xa0",Object(o.jsx)("input",{type:"number",id:"planted-input",className:"planted-input",name:"planted",autoComplete:"off",value:i.planted,onChange:d}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:"Stock Type"}),"\xa0",Object(o.jsx)("select",{id:"species-input",className:"species-input",name:"species",value:i.species,onChange:d,children:l.map((function(e){return Object(o.jsx)("option",{value:e.species,children:e.species},e.id)}))}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:"Tree Rate (cents/tree)"}),"\xa0",Object(o.jsx)("input",{type:"number",id:"rate-input",className:"rate-input",name:"rate",autoComplete:"off",value:i.rate,onChange:d}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{type:"submit",className:"draft",variant:"contained",children:"Draft Invoice"}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{})]})};var p=function(e){return Object(o.jsxs)("button",{type:"btn",className:"filter","aria-pressed":e.isPressed,onClick:function(){return e.setFilter(e.name)},children:[Object(o.jsx)("span",{className:"hide",children:"Show "}),Object(o.jsxs)("span",{children:[e.name," "]}),Object(o.jsx)("span",{className:"hide",children:" Invoices"})]})},f=function(e){var t=e.species,n=e.reqKey,c=e.contract;return Object(o.jsx)("div",{children:Object(o.jsxs)("h3",{children:[t,"\xa0",n,"\xa0Contract: ",c]})})},x=function(){var e=Object(c.useContext)(h),t=Object(b.a)(e,2),n=t[0];t[1];return Object(o.jsxs)("div",{className:"stockSelection",children:[Object(o.jsx)("h2",{children:"Legend of Available Stocks:"}),n.map((function(e){return Object(o.jsx)(f,{species:e.species,reqKey:e.reqKey,contract:e.contract},e.id)}))]})},v=function(e){var t=parseFloat(e.cur),n=e.time,c=parseFloat(e.eth),i=parseInt(e.rate),s=parseInt(e.planted),a=.01*i*s*(1/t),r=.01*i*s*(1/c);return Object(o.jsxs)("div",{className:"blockchain-price-list",children:[Object(o.jsxs)("h3",{children:["Current Bitcoin Rate in CAD:  $",t.toFixed(2)]}),Object(o.jsxs)("h3",{children:["Amount Due in BTC:  ",a]}),Object(o.jsxs)("h3",{children:["Current Ether Rate in CAD:  $",c.toFixed(2)]}),Object(o.jsxs)("h3",{children:["Amount Due in ETH:  ",r]}),Object(o.jsxs)("h4",{children:["Time of price quotes: ",n]})]})},g=n(36),C=["isLoading"];var y=function(e){return function(t){var n=t.isLoading,c=Object(g.a)(t,C);return n?Object(o.jsx)("p",{style:{textAlign:"centre",fontSize:"30px"},children:"Currency data is loading..."}):Object(o.jsx)(e,Object(j.a)({},c))}};n(42);var N=function(e){var t=y(v),n=Object(c.useState)({loading:!1,cur:null}),i=Object(b.a)(n,2),s=i[0],a=i[1],r=Object(c.useState)({loading:!1,time:null}),l=Object(b.a)(r,2),j=l[0],d=l[1],u=Object(c.useState)({loading:!1,eth:null}),h=Object(b.a)(u,2),O=h[0],m=h[1];return Object(c.useEffect)((function(){a({loading:!0});fetch("https://api.coinbase.com/v2/prices/BTC-CAD/spot").then((function(e){return e.json()})).then((function(e){a({loading:!1,cur:e.data.amount})}))}),[a]),Object(c.useEffect)((function(){d({loading:!0});fetch("https://api.coinbase.com/v2/time").then((function(e){return e.json()})).then((function(e){d({loading:!1,time:e.data.iso})}))}),[d]),Object(c.useEffect)((function(){m({loading:!0});fetch("https://api.coinbase.com/v2/prices/ETH-CAD/spot").then((function(e){return e.json()})).then((function(e){m({loading:!1,eth:e.data.amount})}))}),[m]),Object(o.jsx)("div",{children:Object(o.jsx)(t,{isLoading:s.loading,cur:s.cur,time:j.time,eth:O.eth,rate:e.rate,planted:e.planted})})};var S=function(e){var t=(.01*parseInt(e.rate)*parseInt(e.planted)).toFixed(2);return Object(o.jsx)("div",{children:Object(o.jsxs)("h3",{className:"red",children:["Amount Due in CAD: $",t]})})};function k(e){var t=Object(c.useState)(!1),n=Object(b.a)(t,2),i=n[0],s=n[1],a=Object(c.useState)(""),r=Object(b.a)(a,2),l=r[0],d=r[1],h=Object(c.useState)(!1),O=Object(b.a)(h,2),m=O[0],p=(O[1],Object(c.useRef)(null)),f=Object(c.useRef)(null),x=function(e){var t=Object(c.useRef)();return Object(c.useEffect)((function(){t.current=e})),t.current}(i);function v(e){var t=e.target.name,n=e.target.value;d((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(u.a)({},t,n))}))}var g=Object(o.jsxs)("form",{className:"pay-form",onSubmit:function(t){t.preventDefault(),e.editInvoice(e.id,l.name,l.planted),d(""),s(!1)},children:[Object(o.jsxs)("div",{className:"pay-card",children:[Object(o.jsxs)("label",{className:"pay-label",htmlFor:e.id,children:["New name for ",e.name]}),Object(o.jsx)("input",{type:"text",id:e.id,className:"pay-text",name:"name",value:l.name,onChange:v,ref:p}),Object(o.jsx)("label",{className:"pay-label",htmlFor:e.id,children:"New total Planted"}),Object(o.jsx)("input",{id:e.id,className:"pay-text",type:"text",value:l.planted,onChange:v,ref:p})]}),Object(o.jsxs)("div",{className:"btn",children:[Object(o.jsxs)("button",{type:"button",className:"btn pay-cancel",onClick:function(){return s(!1)},children:["Cancel",Object(o.jsxs)("span",{className:"hide",children:[" editing ",e.name," "]})]}),Object(o.jsxs)("button",{type:"submit",className:"btn btn__primary pay-edit",children:["Save ",Object(o.jsxs)("span",{className:"hide",children:[" edited info for ",e.name," "]})]})]})]}),C=Object(o.jsxs)("div",{className:"card",children:[Object(o.jsxs)("div",{className:"c-cb ".concat(m?"due":""),children:[Object(o.jsxs)("h2",{children:[e.name,"\xa0Invoice"]}),Object(o.jsxs)("h4",{children:["Tree Rate:\xa0",e.rate,"cents/tree"]}),Object(o.jsxs)("h4",{children:["Total Planted:\xa0",e.planted," \xa0\xa0\xa0\xa0\xa0\xa0Stock Planted: ",e.species]}),Object(o.jsx)("h3",{children:"Payment Options:"}),Object(o.jsx)(S,{rate:e.rate,planted:e.planted}),Object(o.jsx)(N,{rate:e.rate,planted:e.planted}),Object(o.jsx)("button",{type:"button",className:"submit-Invoice",onClick:function(){return e.toggleInvoiceSubmitted(e.id)},children:"Submit Invoice"}),Object(o.jsx)("br",{})]}),Object(o.jsxs)("div",{className:"btns",children:[Object(o.jsxs)("button",{type:"button",className:"edit-btn",onClick:function(){return s(!0)},ref:f,children:["Edit",Object(o.jsxs)("span",{className:"hide",children:[" ",e.name," "]})]}),Object(o.jsxs)("button",{type:"button",className:"delete-btn",onClick:function(){return e.deleteInvoice(e.id)},children:["Mark as paid and remove",Object(o.jsxs)("span",{className:"hide",children:[" ",e.name," "]})]})]})]});return Object(c.useEffect)((function(){!x&&i&&p.current.focus(),x&&!i&&f.current.focus()}),[x,i]),Object(o.jsxs)("li",{className:"pay",children:[" ",i?g:C," "]})}var I=n(35);var w={All:function(){return!0},Active:function(e){return!e.submitted},Submitted:function(e){return e.submitted}},D=Object.keys(w);var T=function(e){var t=Object(c.useContext)(h),n=Object(b.a)(t,2),i=(n[0],n[1],Object(c.useState)([])),s=Object(b.a)(i,2),a=s[0],r=s[1],l=Object(c.useState)("All"),u=Object(b.a)(l,2),O=u[0],f=u[1];function v(e){var t=a.filter((function(t){return e!==t.id}));r(t)}function g(e,t,n,c){var i=a.map((function(i){return e===i.id?Object(j.a)(Object(j.a)({},i),{},{name:t,planted:n,rate:c}):i}));r(i)}function C(e){var t=a.map((function(t){return e===t.id?Object(j.a)(Object(j.a)({},t),{},{submitted:!t.submitted}):t}));r(t)}Object(c.useEffect)((function(){var e=localStorage.getItem("list");e&&r(JSON.parse(e))}),[]),Object(c.useEffect)((function(){localStorage.setItem("list",JSON.stringify(a))}),[a]);var y=a.filter(w[O]).map((function(e){return Object(o.jsx)(k,{id:e.id,name:e.name,planted:e.planted,species:e.species,rate:e.rate,submitted:e.submitted,toggleInvoiceSubmitted:C,deleteInvoice:v,editInvoice:g},e.id)})),N=D.map((function(e){return Object(o.jsx)(p,{name:e,isPressed:e===O,setFilter:f},e)})),S=1!==y.length?"invoices":"invoice",T="".concat(y.length," ").concat(S," remaining"),P=Object(c.useRef)(null),A=function(e){var t=Object(c.useRef)();return Object(c.useEffect)((function(){t.current=e})),t.current}(a.length);return Object(c.useEffect)((function(){a.length-A===-1&&P.current.focus()}),[a.length,A]),Object(o.jsx)("main",{children:Object(o.jsxs)("div",{className:"invoice-form",children:[Object(o.jsx)("h1",{children:"BlockPay"}),Object(o.jsx)(m,{addInvoice:function(e){var t={id:"pay-"+Object(I.a)(),name:e.blockName,planted:e.planted,species:e.species,rate:e.rate,submitted:!1};r([].concat(Object(d.a)(a),[t]))}}),Object(o.jsxs)("div",{children:[N,Object(o.jsx)("button",{type:"button",className:"btn",onClick:function(){return localStorage.clear(),void r([])},children:" Clear All Invoices "})]}),Object(o.jsx)("h2",{id:"invoice-heading",tabIndex:"-1",ref:P,children:T}),Object(o.jsx)("ul",{role:"list",className:"pay-list",children:y}),Object(o.jsx)(x,{})]})})};var P=function(){return Object(o.jsx)("main",{children:Object(o.jsxs)("div",{className:"home",children:[Object(o.jsx)("h1",{children:"Contractor Home:"}),Object(o.jsx)(T,{})]})})};var A=function(){return Object(o.jsx)("main",{children:Object(o.jsx)("div",{className:"home",children:Object(o.jsx)("h1",{children:"Client Home Under Development:"})})})},E=n(10);var R=function(){return Object(o.jsxs)("nav",{className:"mainNav",children:[Object(o.jsx)(E.b,{className:"navBar",to:"/",children:"Home"}),Object(o.jsx)(E.b,{className:"navBar",to:"/Documentation",children:"Documentation"})]})};n(66);var B=function(){return Object(o.jsx)("main",{children:Object(o.jsxs)("div",{className:"homePortalDiv",children:[Object(o.jsx)("h2",{children:"Select from Client or Contractor Portal:"}),Object(o.jsx)(E.b,{underline:"none",className:"homePortal1",to:"/ClientView/ClientHome",children:"Client Portal"}),Object(o.jsx)(E.b,{className:"homePortal2",to:"/ContractorView/Home",children:"Contractor Portal"})]})})};var H=function(e){return Object(o.jsx)(O,{children:Object(o.jsxs)("div",{children:[Object(o.jsx)(R,{}),Object(o.jsxs)(r.c,{children:[Object(o.jsx)(r.a,{path:"/ContractorView/Home",component:P}),Object(o.jsx)(r.a,{path:"/ClientView/ClientHome",component:A}),Object(o.jsx)(r.a,{path:"/documentation",component:l}),Object(o.jsx)(r.a,{path:"/",component:B,exact:!0}),Object(o.jsx)(r.a,{component:Error})]})]})})};a.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(E.a,{children:Object(o.jsx)(H,{})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.73e7085d.chunk.js.map